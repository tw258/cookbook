<ng-container *ngIf="recipe$ | async as recipe; else loadingTemplate">
  <div class="navbar">
    <div class="navbar__content grid-auto-1fr-auto">
      <button routerLink=".." mat-icon-button>
        <mat-icon class="material-icons-outlined">arrow_back_ios_new</mat-icon>
      </button>
      <span class="navbar__content__title">{{ recipe.title }}</span>
      <button routerLink="edit" mat-icon-button>
        <mat-icon class="material-icons-outlined">edit</mat-icon>
      </button>
    </div>
  </div>

  <div class="pt-7"></div>
  <div *ngIf="recipe.imageIds.length" class="mb-1">
    <app-image-slider [recipe]="recipe"></app-image-slider>
  </div>

  <!-- Ingredient Calculator -->
  <section class="mt-1">
    <h2 style="margin: 0">Zutatenrechner</h2>
    <app-ingredient-calculator [recipe]="recipe"></app-ingredient-calculator>
  </section>

  <!-- Preparation Steps -->
  <section class="mt-1">
    <h2 style="margin: 0">Zubereitung in {{ recipe.preparationTimeInMinutes }} Minuten:</h2>
    <pre style="white-space: pre-wrap">{{ recipe.note }}</pre>
  </section>
</ng-container>

<ng-template #loadingTemplate>
  <app-spinner></app-spinner>
</ng-template>
